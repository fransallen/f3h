<!DOCTYPE html>
<html dir="ltr">
  <head>
    <meta charset="utf-8">
    <meta content="width=device-width" name="viewport">
    <title>Home</title>
  </head>
  <body>
    <main>
      <p><a href="test.html">Test!</a> (pressing the back button after clicking the link shouldn&rsquo;t trigger the first alert)</p>
    </main>
    <script src="../f3h.min.js"></script>
    <script>

    var f3h = new F3H,
        main = document.querySelector('main');

    f3h.on('success', function(response) {
        document.title = response.title;
        var mainFromResponse = response.querySelector('main');
        main.innerHTML = mainFromResponse.innerHTML;
        // Evalute inline JavaScript in the `<main>` element
        mainFromResponse.querySelectorAll('script').forEach(function(script) {
            !script.src && eval(script.textContent);
        });
    });

    alert('Alert once!');

    </script>
  </body>
</html>
